---
title: "Data_Viz Written Report"
author: "Kirill Perfiliev, Stuart Gavidia, Andrew Sandoval"
date: "`r Sys.Date()`"
output: html_document
---

```{r, warning=FALSE, message=FALSE}
library(dplyr)
library(countrycode)
library(ggplot2)

```


1.Sasakitetsuya, T. (2022, February 23). Top 20 defense budget countries analysis. Kaggle.
  a. https://www.kaggle.com/code/sasakitetsuya/top-20-defense-budget-countries-analysis 

2. Initial Graph

```{r, echo=FALSE}
knitr::include_graphics("C:\\Users\\kiril\\OneDrive\\Desktop\\huh\\School\\Math_348\\Data_Viz\\init_graph.png")

```


3. The primary purpose of the author appears to have been to show the correlations between different aspects of the military. The author used a reddish color and darkness to show the strength of correlations and it was effective in making some of the correlations stand out from the rest. The scale on the right hand side of the graph also clarified the color meaning of each box. However, it did not help the author's purpose and it did not help the reader understand the author's purpose either. The graph is cluttered with too many variables which makes the graph difficult to read. Also, there is far too much non-data ink which is distracting for the reader. Finally, there is no title making the graph less presentable.


4. The original graph had too much data on it, making it very hard to read and understand it. The viewer would have to spend some time looking at it, in order to understand the story its trying to tell. Additionally, we specifically decided to focus on only on 5 variables (country, active personnel, defense budget, waterways usable, and air power). We were very interested in the results of how much the country relies on the use of air power (total air) based on their access to water. We did this while including the defense budget based on active personnel.  In other words, our thought was the more access to water a country has, the less it is dependent to air because it can use ground, water, and air transportation - the spread of resources is equal. 



5. Our data that we are working with
```{r}
#read the whole data
data <- read.csv("C:\\Users\\kiril\\OneDrive\\Desktop\\huh\\School\\Math_348\\Data_Viz\\global_firepower_2022_wide.csv")

#create a table with the specific variables
project_data <- select(data, country, Active.Personnel, Defense.Budget, Waterways..usable., Attack.Helicopters, 
                       Fighters.Interceptors, Helicopters, Total.Aircraft.Strength)

#ensure the data has no nulls
project_data1 <- na.omit(project_data)

#it seems that Total.Aircraft.Strength = Fighters.Interceptors, so get rid off the one column
project_data2 <- project_data1[, -8]


#combining all of the air values together into a new column
project_data3 <- project_data2 %>%
  mutate(air_power = Attack.Helicopters + Fighters.Interceptors + Helicopters)

#working data with the main variables
project_data4 <- select(project_data3, country, Active.Personnel, Defense.Budget, Waterways..usable., air_power)

#add continent column
project_data4$continent <- countrycode(sourcevar = project_data4[, "country"],
                            origin = "country.name",
                            destination = "continent")

project_data5 <- project_data4[order(-project_data4$air_power),]

dim(project_data5)
head(project_data5)
tail(project_data5)


```























